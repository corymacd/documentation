---
title: Transactions API
---

<head>
    <meta name="title" content="Transactions API | Redpanda Docs"/>
    <meta name="description" content="The Transactions API gurantees both atomicity and exactly-once semantics. "/>
</head>

The Transactions API guarantees both exactly-once semantics and atomicity. 
- Exactly-once semantics is possible with [Idempotent Producers](/docs/development/idempotent-producers). 
- Atomicity additionally commits a set of messages across partitions as a unit: either all messages are committed, or none of them are. Encapsulated data received or sent across multiple topics into a single operation can only succeed or fail globally. 

If a producer is sending a message, and network connectivity or broker failure cause the producer to retry sending the message, the consumer gets the message once and only once, or the transaction fails. This is important for applications that require very specific guarantees of message delivery, like financial transactions.

The Transactions API (part of the Kafka API) ensures consistency and atomicity of complex operations. It also improves throughput and latency. Redpanda transactions are about 6x faster than Kafka's, enabling better performance-oriented use cases.

## Enabling transactions

How do I use transactions? (how to enable, parameters, how to use them)

1. Enable idempotent producers and transactions: 
   
   - `enable_idempotence: true` (In 22.1, default was false. Check if property default is now true AND `enable_transactions=true` on the producer/client side.)
   - `enable_transactions: true` (producer/client must also have `enable_idempotence=true`.)

   Explain how to set up the producer (client side).

2. Increase the replication factor of the internal topic: 
   - `id_allocator_replication: 3`
   - `transaction_coordinator_replication: 3`

3. Make sure `transaction_coordinator_delete_retention_ms` is at least as high as `transactional_id_expiration_ms`.
   
   If you increase `transactional_id_expiration_ms`, you must increase     `transaction_coordinator_delete_retention_ms` by at least the same amount. The default setting is the same for both: 604800000 ms (1 week). 
